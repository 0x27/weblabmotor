<html>

<head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        
        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
        <script src="http://code.highcharts.com/highcharts.js"></script>
        <script src="http://code.highcharts.com/modules/exporting.js"></script>
        <script src="http://code.highcharts.com/modules/data.js"></script>
        <script src="../libs/export-csv/export-csv.js"></script>
        
</head>

<body>
<script src="http://code.highcharts.com/highcharts.js"></script>

   <script type="text/javascript">


	
	    var options = {
	        chart: {
	            renderTo: 'container',
	            type: 'line',
				zoomType: 'xy',
	            width:800,
	            height: 450
	        },
	        title: {
	            text: 'Cabadbaran, Agusan del Norte'
	        },
	        subtitle: {
	            text: 'Source:CSU Phil-LiDAR 1',
	            x: -20
	        },
	        xAxis: {
	            categories: [],
	            minTickInterval: 10,
	            TickInterval: 10,
	            tickmarkPlacement: "on",
	            labels: {
	                padding: 5,
	                align: "center",
	                style: {
	                    fontSize: "10px"
	                }
	            }
	        },
	        yAxis: [{ //primary y axis	
	            min: 0,
	            max: 50,
	            title: {
	                text: "Rainfall Intensity, mm/hr."
	            },
	            reversed: !0,
	            plotLines: [{
	                value: 0,
	                width: 1,
	                color: "#808080"
	            }],
	        }, { //secondary y axis 
	            max: 10,
	            min: 0,
	            title: {
	                text: "Accumulated Rainfall, mm"
	            },
	            plotLines: [{
	                value: 0,
	                width: 1,
	                color: "#808080"
	            }],
	            opposite: !0,
	            reversed: !1
	        }],
	        gridLineDashStyle: 'solid',
	        series: []
	    };

	    $.get('./data.csv', function (data) {
	        var lines = data.split('\n');
	        console.log(lines.length);

	        options.series.push({
	            name: "Rainfall Intensity",
	            data: [],
	            tooltip: {
	                valueSuffix: "  mm/hr."
	            },
	            color: "#0000ff"
	        }, {
	            name: "Accumulated Rainfall",
	            data: [],
	            tooltip: {
	                valueSuffix: " mm"
	            },
	            yAxis: 1,
	            color: "#ff0000"
	        });

	        $.each(lines, function (lineNo, line) {
	            var items = line.split(',');
	            
	                $.each(items, function (itemNo, item) {
	                    if (itemNo === 0) {
	                        options.xAxis.categories.push(item);
	                    } else if (itemNo === 2) {
	                        options.series[0].data.push(parseFloat(item));
	                    } else if (itemNo === 3) {
	                        options.series[1].data.push(parseFloat(item));
	                    }
	                });
	            
	        });
	        var chart = new Highcharts.Chart(options);
	    });
	
    </script>



<button type="button" class="btn btn-primary" id="show_chart">Show Chart</button>

<div id="container" style="width: 800px; height: 500px; margin: 0 auto"></div>

</body>


</html>

