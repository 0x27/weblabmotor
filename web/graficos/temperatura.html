<html>

<head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        
        <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
        <script src="../libs/highcharts/js/highcharts.js"></script>
        <script src="http://code.highcharts.com/modules/exporting.js"></script>
        <script src="http://code.highcharts.com/modules/data.js"></script>
        <script src="../libs/export-csv/export-csv.js"></script>        
</head>

<body>
<script src="http://code.highcharts.com/highcharts.js"></script>

   <script type="text/javascript">

      var options = {
          chart: {
            renderTo: 'container',
            type: 'line',
            zoomType: 'xy'
          },
          exporting: {
            enabled: true
          },
          title: {
              text: 'Temperatura'
          },
          subtitle: {
              text: 'Dados de temperatura do motor',
              x: -20
          },
          plotOptions: {
            series: {
              marker: {
                enabled: true
              }
            },
          },
          xAxis: {
              categories: [],             
              minTickInterval: 10,
              TickInterval: 10,
              tickmarkPlacement: "on",
              title: {
                        text: 'Data'
                  },
              labels: {
                  padding: 5,
                  align: "center",
                  style: {
                      fontSize: "10px"
                  }
              }
          },
          yAxis: [{
              title: {
                  text: "Temperatura (°C)"
              },
              plotLines: [{
                  value: 0,
                  width: 1,
                  color: "#808080"
              }],
          }],
          series: []
      };

      $.get('../database/sample.txt', function (data) {
          var lines = data.split('\n');
          console.log(lines.length);

          options.series.push({
              name: "Bloco",
              data: [],
              tooltip: {
                  valueSuffix: "  °C"
              }
          }, {
              name: "Escapamento",
              data: [],
              tooltip: {
                  valueSuffix: " °C"
              },
          });

          $.each(lines, function (lineNo, line) {
              var items = line.split(',');
              
                  $.each(items, function (itemNo, item) {
                      if (itemNo === 0) {
                          options.xAxis.categories.push(item);
                      } else if (itemNo === 2) {
                          options.series[0].data.push(parseFloat(item));
                      } else if (itemNo === 3) {
                          options.series[1].data.push(parseFloat(item));
                      }
                  });
              
          });
          var chart = new Highcharts.Chart(options);
      });

    </script>

<div id="container" style="width: 800px; height: 500px; margin: 0 auto"></div>

</body>


</html>

